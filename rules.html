<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NeuroToolkit — Context Rules</title>

  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0f766e">
  <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@2/css/pico.min.css">
  <link rel="stylesheet" href="css/themes.css">

  <style>
    main { max-width: 820px; margin: 4vh auto; padding: 1rem; }
    .group { border:1px solid var(--border); border-radius:12px; padding:1rem; margin-bottom:1rem; background: var(--card); }
    .row { display:flex; align-items:center; justify-content:space-between; gap:.75rem; padding:.4rem 0; }
    #saved { transition: opacity .25s ease; opacity:0; font-weight:600; }
    a.back { display:inline-block; margin-bottom:1rem; }
  </style>
</head>

<body>
  <main class="container">
    <a href="index.html" class="back">← Back to app</a>
    <h1>Context-Aware Processing Rules</h1>
    <p class="muted">These settings are saved locally (in your browser). The “Reformat” button on the main page uses them.</p>

    <article class="group">
      <h3>General cleanup</h3>
      <div class="row"><label for="trimWhitespace">Trim leading/trailing whitespace</label><input id="trimWhitespace" type="checkbox"></div>
      <div class="row"><label for="normalizeSpaces">Normalize spaces (collapse multiple)</label><input id="normalizeSpaces" type="checkbox"></div>
      <div class="row"><label for="sentenceCase">Sentence case</label><input id="sentenceCase" type="checkbox"></div>
      <div class="row"><label for="removeFillers">Remove fillers (“uh”, “um”, “you know”)</label><input id="removeFillers" type="checkbox"></div>
      <div class="row"><label for="smartPunctuation">Smart punctuation spacing</label><input id="smartPunctuation" type="checkbox"></div>
      <div class="row"><label for="numbersAsDigits">Map small number words → digits</label><input id="numbersAsDigits" type="checkbox"></div>
      <div class="row"><label for="bulletizeLists">Bulletize likely lists</label><input id="bulletizeLists" type="checkbox"></div>
    </article>

    <article class="group">
      <h3>Clinical/Neuro helpers</h3>
      <div class="row"><label for="expandAbbrev">Expand common abbreviations (e.g., NIHSS → NIH Stroke Scale)</label><input id="expandAbbrev" type="checkbox"></div>
      <div class="row"><label for="sectionizeSOAP">Sectionize into SOAP (Subjective/Objective/Assessment/Plan)</label><input id="sectionizeSOAP" type="checkbox"></div>
      <div class="row"><label for="sectionizeStrokeNote">Sectionize into a Stroke note (Presentation, Vitals & Exam, Imaging, Treatment, Plan)</label><input id="sectionizeStrokeNote" type="checkbox"></div>
      <div class="row"><label for="redactPHI">Redact simple PHI (name, phone, MRN patterns)</label><input id="redactPHI" type="checkbox"></div>
    </article>
<article class="group">
  <h3>Rule Packs</h3>
  <p class="muted">Enable one or more packs. The Reformat action will apply them in the order listed below.</p>
  <div id="packs"></div>
</article>
    <button id="reset" class="copy-btn">Reset to defaults</button>
    <span id="saved">Saved</span>
  </main>

  <script type="module" src="js/rules.js"></script>
</body>
</html>
